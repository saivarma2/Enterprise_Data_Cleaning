{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sai Varma\\\\Desktop\\\\Enterprise_Data_Cleaning\\\\frontend\\\\src\\\\pages\\\\CleaningPage.js\",\n  _s = $RefreshSig$();\n// Enterprise_Data_Cleaning/frontend/src/pages/CleaningPage.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CleaningPage = () => {\n  _s();\n  const [analysis, setAnalysis] = useState(null);\n  const [analysisMessage, setAnalysisMessage] = useState('');\n  const [cleanMessage, setCleanMessage] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    filePath\n  } = location.state || {};\n  useEffect(() => {\n    if (!filePath) {\n      navigate('/');\n    } else {\n      // Call the analysis endpoint to get duplicate columns, duplicate rows, and null values\n      axios.post('http://localhost:5000/file/analyze', {\n        file_path: filePath\n      }).then(res => {\n        setAnalysis(res.data.analysis);\n        setAnalysisMessage(res.data.message);\n      }).catch(err => {\n        var _err$response;\n        setAnalysisMessage(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data.error) || 'Analysis failed.');\n      });\n    }\n  }, [filePath, navigate]);\n  const onClean = () => {\n    if (window.confirm(\"Do you want to proceed with cleaning the file?\")) {\n      axios.post('http://localhost:5000/file/clean', {\n        file_path: filePath,\n        confirm: true\n      }).then(res => {\n        setCleanMessage(res.data.message);\n        // Navigate to the Report Generation Page, passing the filePath\n        navigate('/report', {\n          state: {\n            filePath\n          }\n        });\n      }).catch(err => {\n        var _err$response2;\n        setCleanMessage(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data.error) || 'Cleaning failed.');\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Data Analysis & Cleaning\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), analysisMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: analysisMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 27\n    }, this), analysis ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Analysis Details:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Duplicate Columns:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 14\n        }, this), \" \", analysis.duplicate_columns.length > 0 ? analysis.duplicate_columns.join(', ') : 'None']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Duplicate Rows Count:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 14\n        }, this), \" \", analysis.duplicate_rows]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Null Values per Column:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: Object.entries(analysis.null_values).map(([col, count]) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [col, \": \", count]\n        }, col, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClean,\n        children: \"Clean Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: cleanMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading analysis...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(CleaningPage, \"z110/q39I7Dwi4mNRUVMGlPHYAs=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = CleaningPage;\nexport default CleaningPage;\nvar _c;\n$RefreshReg$(_c, \"CleaningPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","useLocation","jsxDEV","_jsxDEV","CleaningPage","_s","analysis","setAnalysis","analysisMessage","setAnalysisMessage","cleanMessage","setCleanMessage","navigate","location","filePath","state","post","file_path","then","res","data","message","catch","err","_err$response","response","error","onClean","window","confirm","_err$response2","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","duplicate_columns","length","join","duplicate_rows","Object","entries","null_values","map","col","count","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Sai Varma/Desktop/Enterprise_Data_Cleaning/frontend/src/pages/CleaningPage.js"],"sourcesContent":["// Enterprise_Data_Cleaning/frontend/src/pages/CleaningPage.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\nconst CleaningPage = () => {\r\n  const [analysis, setAnalysis] = useState(null);\r\n  const [analysisMessage, setAnalysisMessage] = useState('');\r\n  const [cleanMessage, setCleanMessage] = useState('');\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  \r\n  const { filePath } = location.state || {};\r\n\r\n  useEffect(() => {\r\n    if (!filePath) {\r\n      navigate('/');\r\n    } else {\r\n      // Call the analysis endpoint to get duplicate columns, duplicate rows, and null values\r\n      axios.post('http://localhost:5000/file/analyze', { file_path: filePath })\r\n        .then(res => {\r\n          setAnalysis(res.data.analysis);\r\n          setAnalysisMessage(res.data.message);\r\n        })\r\n        .catch(err => {\r\n          setAnalysisMessage(err.response?.data.error || 'Analysis failed.');\r\n        });\r\n    }\r\n  }, [filePath, navigate]);\r\n\r\n  const onClean = () => {\r\n    if (window.confirm(\"Do you want to proceed with cleaning the file?\")) {\r\n      axios.post('http://localhost:5000/file/clean', { file_path: filePath, confirm: true })\r\n        .then(res => {\r\n          setCleanMessage(res.data.message);\r\n          // Navigate to the Report Generation Page, passing the filePath\r\n          navigate('/report', { state: { filePath } });\r\n        })\r\n        .catch(err => {\r\n          setCleanMessage(err.response?.data.error || 'Cleaning failed.');\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h1>Data Analysis & Cleaning</h1>\r\n      {analysisMessage && <p>{analysisMessage}</p>}\r\n      {analysis ? (\r\n        <div>\r\n          <h3>Analysis Details:</h3>\r\n          <p><strong>Duplicate Columns:</strong> {analysis.duplicate_columns.length > 0 ? analysis.duplicate_columns.join(', ') : 'None'}</p>\r\n          <p><strong>Duplicate Rows Count:</strong> {analysis.duplicate_rows}</p>\r\n          <h4>Null Values per Column:</h4>\r\n          <ul>\r\n            {Object.entries(analysis.null_values).map(([col, count]) => (\r\n              <li key={col}>{col}: {count}</li>\r\n            ))}\r\n          </ul>\r\n          <button onClick={onClean}>Clean Data</button>\r\n          <p>{cleanMessage}</p>\r\n        </div>\r\n      ) : (\r\n        <p>Loading analysis...</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CleaningPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}